{"version":3,"sources":["firebase.config.js","contexts/AuthContext.js","components/DashboardNavbar.js","components/LiveDataCard.js","components/Dashboard.js","components/SignUp.js","components/Login.js","components/PrivateRoute.js","components/ForgotPassword.js","components/LiveDataVoltage.js","components/Profile.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","database","fs","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","deviceIds","createUserWithEmailAndPassword","then","registeredUser","collection","doc","uid","set","logout","signOut","resetPassword","sendPasswordResetEmail","Provider","DashboardNavbar","props","Fragment","Navbar","collapseOnSelect","expand","bg","variant","Container","Brand","href","Toggle","Collapse","id","Nav","className","Link","onClick","handleLogout","LiveDataCard","classnames","color","text","Spinner","animation","icon","Dashboard","error","setError","history","useHistory","devices","setDevices","a","push","get","snapshot","data","message","class","map","deviceId","style","width","margin","src","alt","to","SignUp","emailRef","useRef","passwordRef","confirmPasswordRef","uuidv4","setDeviceIds","e","preventDefault","current","console","log","handleAddDevices","Card","Body","Alert","Form","onSubmit","Group","Label","Control","type","ref","name","placeholder","onChange","event","newInputDevices","i","target","handleChangeInput","disabled","length","values","splice","findIndex","handleRemoveDevices","Button","Login","PrivateRoute","Component","component","rest","render","ForgotPassword","setMessage","LiveDataVoltage","ProgressBar","now","label","Profile","checked","liveData","setLiveData","useParams","changeMotorStatus","moisture","update","motor_status","on","val","Row","Col","sm","humidity","temperature","light","solar_status","fertilizer_status","voltage","App","exact","path","minHeight","maxWidth","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2321f890.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\"\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAiwH27lqG8IDR8hbC9bcD6D33IMDSlOGk\",\r\n  authDomain: \"nodemcu-iot-a8e67.firebaseapp.com\",\r\n  databaseURL: \"https://nodemcu-iot-a8e67.firebaseio.com\",\r\n  projectId: \"nodemcu-iot-a8e67\",\r\n  storageBucket: \"nodemcu-iot-a8e67.appspot.com\",\r\n  messagingSenderId: \"274516753894\",\r\n  appId: \"1:274516753894:web:c90e0e85fdbf9c3b75ea27\",\r\n  measurementId: \"G-EJM7DLNVX7\"\r\n});\r\n\r\nexport const auth = app.auth();\r\nexport const db = app.database();\r\nexport const fs = app.firestore();\r\nexport default app;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { auth, fs } from \"../firebase.config\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const signup = (email, password, deviceIds) => {\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((registeredUser) => {\r\n        fs.collection(\"users\").doc(registeredUser.user.uid).set({\r\n          email: email,\r\n          deviceIds: deviceIds,\r\n        });\r\n      });\r\n  };\r\n\r\n  const login = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  };\r\n\r\n  const logout = () => {\r\n    return auth.signOut();\r\n  };\r\n\r\n  const resetPassword = (email) => {\r\n    return auth.sendPasswordResetEmail(email);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n  };\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","\r\nimport React from 'react'\r\n\r\nimport { Navbar, Container, Nav } from 'react-bootstrap' \r\n\r\nconst DashboardNavbar = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n            <Container>\r\n            <Navbar.Brand href=\"#home\">IoT FARM</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                <Nav className=\"me-auto\">\r\n                <Nav.Link href=\"#features\">Features</Nav.Link>\r\n                <Nav.Link href=\"#pricing\">Pricing</Nav.Link>\r\n                </Nav>\r\n                <Nav>\r\n                <Nav.Link href=\"#deets\">{props.currentUser ? props.currentUser.email : \"No User/Device\"}</Nav.Link>\r\n                <Nav.Link onClick={props.handleLogout}>\r\n                    Logout\r\n                </Nav.Link>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n            </Container>\r\n            </Navbar>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default DashboardNavbar;\r\n\r\n","import React from \"react\";\r\nimport \"../css/cards.css\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst LiveDataCard = (props) => {\r\n  return (\r\n    <div className={classnames(\"card shadow h-100 py-2\", props.color)}>\r\n      <div className=\"card-body\">\r\n        <div className=\"row no-gutters align-items-center\">\r\n          <div className=\"col mr-2\">\r\n            <div className=\"text-xs font-weight-bold text-primary text-uppercase mb-1\">\r\n              {props.text}\r\n            </div>\r\n            <div className=\"h5 mb-0 font-weight-bold text-gray-800\">\r\n              {props.loading ? props.value : <Spinner animation=\"border\" />}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto\">\r\n            <i className={classnames(\"fa-2x text-gray-300\", props.icon)}></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveDataCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Link from \"react-router-dom/Link\";\r\n\r\nimport { db, fs } from \"../firebase.config\";\r\n\r\n//Bootstrap Imports\r\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\r\n\r\nimport DashboardNavbar from \"./DashboardNavbar\";\r\nimport LiveDataCard from \"./LiveDataCard\";\r\nimport VoltageLineChart from \"./VoltageLineChart\";\r\n\r\nimport \"../css/style.css\";\r\n\r\nconst Dashboard = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [deviceId, setDeviceId] = useState(\"\");\r\n  const [liveData, setLiveData] = useState({});\r\n  const [records, setRecords] = useState([]);\r\n\r\n  const { logout, currentUser } = useAuth();\r\n  const history = useHistory();\r\n\r\n  //Humidity\r\n  const humidity_text = \"Humidity\";\r\n  const humidity_color = \"border-left-primary\";\r\n  const humidity_icon = \"fas fa-tint\";\r\n\r\n  //Solar Status\r\n  const solar_status_text = \"Solar Status\";\r\n  const solar_status_color = \"border-left-warning\";\r\n  const solar_status_icon = \"fas fa-solar-panel\";\r\n\r\n  //Moisture Status\r\n  const moisture_text = \"Moisture\";\r\n  const moisture_color = \"border-left-success\";\r\n  const moisture_icon = \"fas fa-water\";\r\n\r\n  //Voltage Status\r\n  const voltage_text = \"Voltage\";\r\n  const voltage_color = \"border-left-danger\";\r\n  const voltage_icon = \"fas fa-bolt\";\r\n\r\n  const [devices, setDevices] = useState([]);\r\n\r\n  //Get the current user's devices\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        await fs\r\n          .collection(\"users\")\r\n          .doc(currentUser.uid)\r\n          .get()\r\n          .then((snapshot) => {\r\n            setDevices(snapshot.data().deviceIds);\r\n          });\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setError(error.message);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   (async () => {\r\n  //     try {\r\n  //       await fs\r\n  //         .collection(\"users\")\r\n  //         .doc(currentUser.uid)\r\n  //         .get()\r\n  //         .then((snapshot) => {\r\n  //           setDeviceId(snapshot.data().deviceId);\r\n  //           if (deviceId === null) {\r\n  //             //handle here\r\n  //           } else {\r\n  //             db.ref(\"FirebaseIOT/Live_data/\" + snapshot.data().deviceId).on(\r\n  //               \"value\",\r\n  //               function (snapshot) {\r\n  //                 setLiveData(snapshot.val());\r\n  //               }\r\n  //             );\r\n  //           }\r\n  //         });\r\n  //       setLoading(true);\r\n  //     } catch (e) {\r\n  //       console.log(e);\r\n  //     }\r\n  //   })();\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   (async () => {\r\n  //     try {\r\n  //       await db\r\n  //         .ref(\"FirebaseIOT/Keep_record/1001\")\r\n  //         .once(\"value\", function (snapshot) {\r\n  //           let tempRecordArray = [];\r\n  //           snapshot.forEach(function (childsnapshot) {\r\n  //             if (childsnapshot.val().voltage) {\r\n  //               let tempObj = {\r\n  //                 id: childsnapshot.key,\r\n  //                 humidity: childsnapshot.val().humidity,\r\n  //                 light: childsnapshot.val().light,\r\n  //                 moisture: childsnapshot.val().moisture,\r\n  //                 motor_status: childsnapshot.val().motor_status,\r\n  //                 solar_status: childsnapshot.val().solar_status,\r\n  //                 temperature: childsnapshot.val().temperature,\r\n  //                 voltage: childsnapshot.val().voltage,\r\n  //               };\r\n  //               tempRecordArray.push(tempObj);\r\n  //             }\r\n  //           });\r\n  //           setRecords(tempRecordArray);\r\n  //         });\r\n  //       console.log(\"Records Updated\");\r\n  //     } catch (e) {\r\n  //       console.log(e);\r\n  //     }\r\n  //   })();\r\n  // }, []);\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"cannot logout\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DashboardNavbar\r\n        handleLogout={handleLogout}\r\n        error={error}\r\n        currentUser={currentUser}\r\n      />\r\n      <div class=\"container-fluid\">\r\n        <h2>My Devices</h2>\r\n        <div class=\"row flex-nowrap\">\r\n          {devices.map((deviceId) => {\r\n            return (\r\n              <div\r\n                className=\"card card-block\"\r\n                key={deviceId.id}\r\n                style={{ width: \"18rem\", margin: \"0px 10px 0px 10px\" }}\r\n              >\r\n                <img\r\n                  className=\"card-img-top\"\r\n                  src=\"https://i.imgur.com/73cwR7F.jpg\"\r\n                  alt=\"Card image cap\"\r\n                />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{deviceId.deviceId}</h5>\r\n                  <p className=\"card-text\">\r\n                    Some quick example text to build on the card title and make\r\n                    up the bulk of the card's content.\r\n                  </p>\r\n                  <Link\r\n                    to={`/profile/${deviceId.deviceId}`}\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    View More\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* <Container>\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <h1>Current Stats</h1>\r\n          </Col>\r\n          <Col className=\"text-right\">\r\n            <h1>\r\n              My Device : {loading ? deviceId : <Spinner animation=\"grow\" />}\r\n            </h1>\r\n          </Col>\r\n        </Row>\r\n\r\n        <hr />\r\n        <br />\r\n        <Container>\r\n          <Row>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={humidity_color}\r\n                text={humidity_text}\r\n                icon={humidity_icon}\r\n                value={liveData.humidity}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={moisture_color}\r\n                text={moisture_text}\r\n                icon={moisture_icon}\r\n                value={liveData.moisture}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={voltage_color}\r\n                text={voltage_text}\r\n                icon={voltage_icon}\r\n                value={liveData.voltage}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={solar_status_color}\r\n                text={solar_status_text}\r\n                icon={solar_status_icon}\r\n                value={liveData.solar_status}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n\r\n        <Container className=\"mt-4\">\r\n          <Row>\r\n            <Col md={6}>\r\n              <VoltageLineChart records={records} />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </Container> */}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","//React Imports\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n//Bootstrap Imports\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useFormControlUnstyled } from \"@mui/base\";\r\n\r\nconst SignUp = () => {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const confirmPasswordRef = useRef();\r\n  const { signup } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const [deviceIds, setDeviceIds] = useState([{ id: uuidv4(), deviceId: \"\" }]);\r\n\r\n  async function handleSignup(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n      return setError(\"Passwords should be match!!!\");\r\n    }\r\n\r\n    const user = {\r\n      email: emailRef.current.value,\r\n      password: passwordRef.current.value,\r\n      deviceIds: deviceIds,\r\n    };\r\n\r\n    console.log(user);\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      signup(user.email, user.password, user.deviceIds);\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\r\n        \"Failed to create an account, Make sure you are connected to internet!\"\r\n      );\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  const handleChangeInput = (id, event) => {\r\n    const newInputDevices = deviceIds.map((i) => {\r\n      if (id === i.id) {\r\n        i[event.target.name] = event.target.value;\r\n      }\r\n      return i;\r\n    });\r\n\r\n    setDeviceIds(newInputDevices);\r\n  };\r\n\r\n  const handleAddDevices = () => {\r\n    setDeviceIds([...deviceIds, { id: uuidv4(), deviceId: \"\" }]);\r\n  };\r\n\r\n  const handleRemoveDevices = (id) => {\r\n    const values = [...deviceIds];\r\n    values.splice(\r\n      values.findIndex((value) => value.id === id),\r\n      1\r\n    );\r\n    setDeviceIds(values);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card style={{ width: \"350px\" }}>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSignup}>\r\n            <Form.Group className=\"mt-4\" id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef}></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group className=\"mt-4\" id=\"deviceId\">\r\n              <Form.Label>Your Farms</Form.Label>\r\n              {deviceIds.map((deviceId) => (\r\n                <div key={deviceId.id}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                      <Form.Control\r\n                        name=\"deviceId\"\r\n                        placeholder=\"Enter Device ID\"\r\n                        variant=\"filled\"\r\n                        value={deviceId.deviceId}\r\n                        onChange={(event) =>\r\n                          handleChangeInput(deviceId.id, event)\r\n                        }\r\n                      ></Form.Control>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-2\" onClick={handleAddDevices}>\r\n                          <AddIcon />\r\n                        </div>\r\n                        <div\r\n                          className=\"col-md-2\"\r\n                          disabled={deviceIds.length === 1}\r\n                          onClick={() => handleRemoveDevices(deviceId.id)}\r\n                        >\r\n                          <RemoveIcon />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </Form.Group>\r\n            <Form.Group className=\"mt-4\" id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef}></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group className=\"mt-4\" id=\"confirm-password\">\r\n              <Form.Label>Confirm Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={confirmPasswordRef}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100 mt-4\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-4\">\r\n        Already have an account? <Link to=\"/login\"> Log In</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","//React Imports\r\nimport React, {useRef, useState} from \"react\";\r\nimport {useAuth} from '../contexts/AuthContext'; \r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//Bootstrap Imports\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\n\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const {login} = useAuth()\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory()\r\n\r\n    async function handleLogin(e){\r\n        e.preventDefault();\r\n        try {\r\n          setError('');\r\n          setLoading(true);\r\n          await login(emailRef.current.value, passwordRef.current.value);\r\n          history.push(\"/\")\r\n        }\r\n        catch {\r\n          setError(\"Failed to sign in!\")\r\n        }\r\n    \r\n        setLoading(false)\r\n      }\r\n\r\n      return (\r\n        <React.Fragment>\r\n          <Card style={{width : \"350px\"}}>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Log In</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleLogin}>\r\n                <Form.Group className=\"mt-4\" id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef}></Form.Control>\r\n                </Form.Group>\r\n                <Form.Group className=\"mt-4\" id=\"password\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" ref={passwordRef}></Form.Control>\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100 mt-4\" type=\"submit\">Login</Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"w-100 text-center mt-4\" >\r\n          <Link to=\"/forgot-password\">Forogot Password?</Link>\r\n            \r\n          </div> \r\n          <div className=\"w-100 text-center mt-4\" >\r\n            Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n          </div> \r\n        </React.Fragment>\r\n      );\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst PrivateRoute = ({component : Component, ...rest}) => {\r\n    \r\n    const { currentUser } = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            <Route\r\n            {...rest}\r\n            render={props => {\r\n               return currentUser ? <Component {...props} /> : <Redirect to=\"/login\"/>\r\n            }}\r\n            ></Route>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React, {useRef, useState} from \"react\";\r\nimport {useAuth} from '../contexts/AuthContext'; \r\nimport { Link } from \"react-router-dom\";\r\n\r\n//Bootstrap Imports\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\n\r\n\r\nconst ForgotPassword = () => {\r\n\r\n    const emailRef = useRef()\r\n    const {resetPassword} = useAuth()\r\n    const [error, setError] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    async function handleForgotPassword(e){\r\n        e.preventDefault();\r\n        try {\r\n          setError('');\r\n          setLoading(true);\r\n          await resetPassword(emailRef.current.value);\r\n          setMessage(\"Check Your email inbox to reset password link!\")\r\n        }\r\n        catch {\r\n          setError(\"Failed to reset password\")\r\n        }\r\n    \r\n        setLoading(false)\r\n      }\r\n\r\n    return (\r\n        <React.Fragment>\r\n          <Card style={{width : \"350px\"}}>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Forgot Password</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              {message && <Alert variant=\"success\">{message}</Alert>}\r\n              <Form onSubmit={handleForgotPassword}>\r\n                <Form.Group className=\"mt-4\" id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef}></Form.Control>\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100 mt-4\" type=\"submit\">Reset Password</Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"w-100 text-center mt-4\" >\r\n          <Link to=\"/login\">Back to login</Link>\r\n          </div> \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React from \"react\";\r\nimport \"../css/cards.css\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Spinner, ProgressBar } from \"react-bootstrap\";\r\n\r\nconst LiveDataVoltage = (props) => {\r\n  return (\r\n    <div className={classnames(\"card shadow h-100 py-2\", props.color)}>\r\n      <div className=\"card-body\">\r\n        <div className=\"row no-gutters align-items-center\">\r\n          <div className=\"col mr-2\">\r\n            <div className=\"text-xs font-weight-bold text-primary text-uppercase mb-1\">\r\n              {props.text}\r\n            </div>\r\n            <ProgressBar\r\n              now={(props.value / 5) * 100}\r\n              label={`${(props.value / 5) * 100}%`}\r\n            />\r\n            {/* <div className=\"h5 mb-0 font-weight-bold text-gray-800\">\r\n              {props.loading ? props.value : <Spinner animation=\"border\" />}\r\n            </div> */}\r\n          </div>\r\n          <div className=\"col-auto\">\r\n            <i className={classnames(\"fa-2x text-gray-300\", props.icon)}></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveDataVoltage;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport DashboardNavbar from \"./DashboardNavbar\";\r\nimport LiveDataCard from \"./LiveDataCard\";\r\nimport LiveDataVoltage from \"./LiveDataVoltage\";\r\n\r\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\r\n\r\nimport Switch from \"@mui/material/Switch\";\r\n\r\nimport { db, fs } from \"../firebase.config\";\r\n\r\n//Humidity\r\nconst humidity_text = \"Humidity\";\r\nconst humidity_color = \"border-left-primary\";\r\nconst humidity_icon = \"fas fa-tint\";\r\n\r\n//Solar Status\r\nconst solar_status_text = \"Solar Status\";\r\nconst solar_status_color = \"border-left-warning\";\r\nconst solar_status_icon = \"fas fa-solar-panel\";\r\n\r\n//Moisture Status\r\nconst moisture_text = \"Moisture\";\r\nconst moisture_color = \"border-left-success\";\r\nconst moisture_icon = \"fas fa-water\";\r\n\r\n//fertilizer Status\r\nconst fertilizer_status_text = \"Fertilizer Status\";\r\nconst fertilizer_status_color = \"border-left-success\";\r\nconst fertilizer_status_icon = \"fas fa-hand-holding-seedling\";\r\n\r\n//fertilizer Delay\r\nconst fertilizer_delay_text = \"Fertilizer Delay\";\r\nconst fertilizer_delay_color = \"border-left-success\";\r\nconst fertilizer_delay_icon = \"fas fa-water\";\r\n\r\n//Light Status\r\nconst light_text = \"Light\";\r\nconst light_color = \"border-left-success\";\r\nconst light_icon = \"fas fa-lightbulb\";\r\n\r\n//Temperature\r\nconst temp_text = \"Temperature\";\r\nconst temp_color = \"border-left-success\";\r\nconst temp_icon = \"fas fa-thermometer-half\";\r\n\r\n//Motor Status\r\nconst motor_status_text = \"Motor\";\r\nconst motor_status_color = \"border-left-success\";\r\nconst motor_status_icon = \"fas fa-water\";\r\n\r\n//Motor Delay\r\nconst motor_delay_text = \"Motor Delay\";\r\nconst motor_delay_color = \"border-left-success\";\r\nconst motor_delay_icon = \"fas fa-water\";\r\n\r\n//Voltage Status\r\nconst voltage_text = \"Voltage\";\r\nconst voltage_color = \"border-left-danger\";\r\nconst voltage_icon = \"fas fa-bolt\";\r\n\r\nconst Profile = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [checked, setChecked] = useState(0);\r\n  const [liveData, setLiveData] = useState({});\r\n  const [records, setRecords] = useState([]);\r\n\r\n  console.log(useParams());\r\n\r\n  const { logout, currentUser } = useAuth();\r\n  const history = useHistory();\r\n\r\n  const switchHandler = (event) => {\r\n    if (event.target.checked) {\r\n      setChecked(1);\r\n    } else {\r\n      setChecked(0);\r\n    }\r\n  };\r\n\r\n  console.log(checked);\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"cannot logout\");\r\n    }\r\n  }\r\n\r\n  let { deviceId } = useParams();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        await db\r\n          .ref(\"FirebaseIOT/Live_data/\" + deviceId)\r\n          .on(\"value\", function (snapshot) {\r\n            setLiveData(snapshot.val());\r\n          });\r\n        setLoading(true);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  //function to set motor status\r\n  async function changeMotorStatus() {\r\n    try {\r\n      if (liveData && liveData.moisture <= 30) {\r\n        await db.ref(\"FirebaseIOT/Live_data/\" + deviceId).update({\r\n          motor_status: 1,\r\n        });\r\n      }\r\n      if (liveData && liveData.moisture > 30) {\r\n        await db.ref(\"FirebaseIOT/Live_data/\" + deviceId).update({\r\n          motor_status: 0,\r\n        });\r\n      } else {\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    changeMotorStatus();\r\n  }, [changeMotorStatus]);\r\n\r\n  const label = { inputProps: { \"aria-label\": \"Switch demo\" } };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DashboardNavbar\r\n        handleLogout={handleLogout}\r\n        error={error}\r\n        currentUser={currentUser}\r\n      />\r\n\r\n      <Container>\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <h1>Current Stats</h1>\r\n          </Col>\r\n          <Col className=\"text-right\">\r\n            <h1>\r\n              My Device : {loading ? deviceId : <Spinner animation=\"grow\" />}\r\n            </h1>\r\n          </Col>\r\n        </Row>\r\n\r\n        <hr />\r\n        <br />\r\n        <Container>\r\n          <Row>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={humidity_color}\r\n                text={humidity_text}\r\n                icon={humidity_icon}\r\n                value={`${liveData.humidity * 10}%`}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={temp_color}\r\n                text={temp_text}\r\n                icon={temp_icon}\r\n                value={`${liveData.temperature} °C`}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={moisture_color}\r\n                text={moisture_text}\r\n                icon={moisture_icon}\r\n                value={liveData.moisture}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n\r\n            <div className=\"mobile-space\">\r\n              <br />\r\n            </div>\r\n          </Row>\r\n          <br />\r\n          <Row>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={light_color}\r\n                text={light_text}\r\n                icon={light_icon}\r\n                value={liveData.light}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={solar_status_color}\r\n                text={solar_status_text}\r\n                icon={solar_status_icon}\r\n                value={liveData.solar_status}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n\r\n          <Row>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={motor_status_color}\r\n                text={motor_status_text}\r\n                icon={motor_status_icon}\r\n                value={liveData.motor_status ? \"ON\" : \"OFF\"}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n            <Col sm>\r\n              <LiveDataCard\r\n                color={fertilizer_status_color}\r\n                text={fertilizer_status_text}\r\n                icon={fertilizer_status_icon}\r\n                value={liveData.fertilizer_status ? \"Applied\" : \"Not Applied\"}\r\n                loading={loading}\r\n              />\r\n            </Col>\r\n\r\n            <Col sm>\r\n              <LiveDataVoltage\r\n                color={voltage_color}\r\n                text={voltage_text}\r\n                icon={voltage_icon}\r\n                value={liveData.voltage}\r\n                loading={loading}\r\n              />\r\n              {/* <LiveDataCard\r\n                color={voltage_color}\r\n                text={voltage_text}\r\n                icon={voltage_icon}\r\n                value={liveData.voltage}\r\n                loading={loading}\r\n              /> */}\r\n            </Col>\r\n\r\n            {/* <Col sm>\r\n              <LiveDataCard\r\n                color={fertilizer_delay_color}\r\n                text={fertilizer_delay_text}\r\n                icon={fertilizer_delay_icon}\r\n                value={`${liveData.fertilizer_delay / 1000} seconds`}\r\n                loading={loading}\r\n              />\r\n            </Col> */}\r\n          </Row>\r\n\r\n          <br />\r\n          <Row>\r\n            {/* <Col sm>\r\n              <LiveDataCard\r\n                color={motor_delay_color}\r\n                text={motor_delay_text}\r\n                icon={motor_delay_icon}\r\n                value={`${liveData.motor_delay / 1000} seconds`}\r\n                loading={loading}\r\n              />\r\n            </Col> */}\r\n          </Row>\r\n        </Container>\r\n\r\n        {/* <Container className=\"mt-4\">\r\n          <Row>\r\n            <Col md={6}>\r\n              <VoltageLineChart records={records} />\r\n            </Col>\r\n          </Row>\r\n        </Container> */}\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","//React Imports\r\nimport React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { AuthProvider } from \"../contexts/AuthContext\";\r\n\r\n//Bootstrap Imports\r\nimport { Container } from \"react-bootstrap\";\r\n\r\n//React Components\r\nimport Dashboard from \"./Dashboard\";\r\nimport SignUp from \"./SignUp\";\r\nimport Login from \"./Login\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport ForgotPassword from \"./ForgotPassword\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n            <Route path=\"/profile/:deviceId\" exact component={Profile} />\r\n            <Container\r\n              className=\"d-flex align-items-center justify-content-center\"\r\n              style={{ minHeight: \"100vh\" }}\r\n            >\r\n              <div className=\"w-200\" style={{ maxWidth: \"400px\" }}>\r\n                <Route path=\"/signup\" exact component={SignUp} />\r\n                <Route path=\"/login\" exact component={Login} />\r\n\r\n                <Route\r\n                  path=\"/forgot-password\"\r\n                  exact\r\n                  component={ForgotPassword}\r\n                />\r\n              </div>\r\n            </Container>\r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}